[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "A Comprehensive Study on Particulate Matter Pollution",
    "section": "",
    "text": "1 Introduction\nIn this study, we talk about the air pollution, investigating the various factors that are related to it. Generally speaking, does time and location have a strong correlation with air pollution? The main value we are going to dive into detail is PM 2.5, a number that indicates the amount of particles that are 2.5 microns or less in diameter in air. The higher the value, the more serious the air pollution is since these components there are harmful when inhaled by human, animals, and plants.\nIn detail, we are going to employ exploratory data analysis to investigate the data from WHO to dive into details about air quality. Some sample questions we will answer are below:\n\nIs the air quality becoming worse from 2010 to 2019, overall and locally?\nIf people want to avoid air pollution, where should they choose to live?\nDoes the air quality generally change significantly over a year?\nWhich place has the best air quality over the last 10 years?\nIf the United Nation has more funding, which places should they commit more to improve the air quality?\nIn the future, can we predict any trend for air quality based on historical data?"
  },
  {
    "objectID": "data.html#technical-description",
    "href": "data.html#technical-description",
    "title": "2  Dataset",
    "section": "2.1 Technical description",
    "text": "2.1 Technical description\nThe dataset we use is called modeled exposure to particulate matter air pollution, that aggregates the concentration of the fine particulate matter (PM 2.5) in 194 over the world. In particular, it includes the annual concentration of PM 2.5 in 194 countries, with breakdown for urban and rural areas. The dataset is authored by the World Health Organization (WHO). In general, to obtain estimates of PM 2.5 levels, the concentration of PM 2.5 is measured from fixed-site monitors located within metropolitan areas. The value of PM 2.5 in a given area can be obtained by averaging the measurements of monitors in this area.\nOur dataset includes the average annual PM 2.5 concentration on 194 states from 2010 to 2019. Apart from the average value over the country, the dataset also records the averages on four different area types: urban, rural, cities and towns. The dataset consists of 34 variables in total. Not all of them will be valuable to us, but relevant features include country, location (continent), period (year), area type (detailed below), and value (PM 2.5 concentration). There are 9450 observations, each recording the average annual concentration of PM 2.5 for a specific area type (urban, rural, cities, towns, total) of one of the 194 states in the world.\nWe obtain the data from the WHO official website. A CSV file can be downloaded from this link. The file is ready-to-use, requiring only a “read.csv” function to be loaded into RStudio. We will perform data cleaning (eliminating redundant variables and dealing with NAs) and analysis using this file."
  },
  {
    "objectID": "data.html#research-plan",
    "href": "data.html#research-plan",
    "title": "2  Dataset",
    "section": "2.2 Research plan",
    "text": "2.2 Research plan\nThe data provides us with comprehensive information about the mean, minimum, and max PM2.5 at each residence area type, country, continent from 2010 to 2019. Here are some ways that I’m going to use to analyze the data based on our needs.\n\nPre-processing:\n\nRemove unneeded value and handle NaN value.\nTransform the data for later use by applying pivot_longer(), mutate(), etc.\n\nAnalyze air quality change over time:\n\nUse time series line chart to plot PM2.5 change from 2010 to 2019, smooth the plot to see the general trend. This can be done in geom-line() function.\nCreate multiple box charts that shows min, max, mean value for each year and each continent in facet graph using facet_wrap().\nCreate a histogram that shows the average PM2.5 for each country and continent.\n\nAnalyze air quality change over location:\n\nCreate a Heatmap using geom_tile to show country differences for PM2.5 and highlight those outliers.\nUse bar chart to show the average and range of PM2.5 per continent and country.\n\nAnalyze air quality change over resident type (urban, rural, cities, towns):\n\nVisualize the resident type difference per continent by evaluating the average PM2.5 in the facet graph using ggplot and facet_wrap().\nPlot the average PM2.5 per continent per resident type as a scatter plot to show if the PM2.5 are significantly different across all resident types.\nCreate a ggalluvial plot over each resident type and year to show the value change for each resident type.\n\nPutting it all together, there are 3 dimensions that we are going to analyze the data, at the end, based on what we observe from the visualizations above, we will use any package that we learned from class to dive deeper into the detail to analyze the abnormality or general trends to validate our hypothesis and make the analysis comprehensive."
  },
  {
    "objectID": "data.html#missing-value-analysis",
    "href": "data.html#missing-value-analysis",
    "title": "2  Dataset",
    "section": "2.3 Missing value analysis",
    "text": "2.3 Missing value analysis\nLet’s look at our data and understand it. We only have 1 dataset with 34 columns and 9450 rows. We first check if there are any columns that have no useful information for our analysis and select the ones that are useful for us.\nThe second step is to check if the remaining columns have any missing or incorrect values and adjust them. Here are the breakdown steps:\n\n\nCode\n# import\nlibrary(readr)\nlibrary(dplyr)\n\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\n\nCode\nlibrary(ggplot2)\nlibrary(tidyr)\n\n# read csv\ndata &lt;- read_csv(\"data_pollution.csv\")\n\n\nRows: 9450 Columns: 34\n\n\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (14): IndicatorCode, Indicator, ValueType, ParentLocationCode, ParentLo...\ndbl   (4): Period, FactValueNumeric, FactValueNumericLow, FactValueNumericHigh\nlgl  (15): IsLatestYear, Dim2 type, Dim2, Dim2ValueCode, Dim3 type, Dim3, Di...\ndttm  (1): DateModified\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\n\n\nCode\n# count distinct values\ndistinct_counts &lt;- data %&gt;% summarise_all(n_distinct)\n\nlong_data &lt;- pivot_longer(distinct_counts, cols = everything(), names_to = \"ColumnName\", values_to = \"DistinctCount\")\n\n# plot the number of distinct values per column in our dataset\nggplot(long_data, aes(x = ColumnName, y = DistinctCount)) +\n  geom_bar(stat = \"identity\") +\n  labs(x = \"Column Name\", y = \"# of distinct values\", title = \"Check distinct values\")\n\n\n\n\n\nWe can see a lot of columns have a few distinct value, let’s check if they equals 1 or 0, if yes, then we may need to remove these columns since they don’t contribute to our analysis.\n\n\nCode\n# check insignificant data\ninsignificant_data &lt;- long_data %&gt;% \n                               filter(DistinctCount &lt;= 1)\ninsignificant_data\n\n\n# A tibble: 22 × 2\n   ColumnName    DistinctCount\n   &lt;chr&gt;                 &lt;int&gt;\n 1 IndicatorCode             1\n 2 Indicator                 1\n 3 ValueType                 1\n 4 Location type             1\n 5 Period type               1\n 6 Dim1 type                 1\n 7 Dim2 type                 1\n 8 Dim2                      1\n 9 Dim2ValueCode             1\n10 Dim3 type                 1\n# ℹ 12 more rows\n\n\nAfter double-checking our dataset, we found these data could be removed. We then check the NaN values of the rest of the columns.\n\n\nCode\n# check for NaN\nselected_columns &lt;- setdiff(colnames(data), insignificant_data$ColumnName)\nselected_data &lt;- data %&gt;% select(all_of(selected_columns))\n\nselected_data\n\n\n# A tibble: 9,450 × 12\n   ParentLocationCode ParentLocation SpatialDimValueCode Location         Period\n   &lt;chr&gt;              &lt;chr&gt;          &lt;chr&gt;               &lt;chr&gt;             &lt;dbl&gt;\n 1 AFR                Africa         KEN                 Kenya              2019\n 2 AMR                Americas       TTO                 Trinidad and To…   2019\n 3 EUR                Europe         GBR                 United Kingdom …   2019\n 4 AMR                Americas       GRD                 Grenada            2019\n 5 AMR                Americas       BRA                 Brazil             2019\n 6 EUR                Europe         DNK                 Denmark            2019\n 7 EUR                Europe         RUS                 Russian Federat…   2019\n 8 EUR                Europe         ESP                 Spain              2019\n 9 AMR                Americas       GRD                 Grenada            2019\n10 AMR                Americas       GRD                 Grenada            2019\n# ℹ 9,440 more rows\n# ℹ 7 more variables: IsLatestYear &lt;lgl&gt;, Dim1 &lt;chr&gt;, Dim1ValueCode &lt;chr&gt;,\n#   FactValueNumeric &lt;dbl&gt;, FactValueNumericLow &lt;dbl&gt;,\n#   FactValueNumericHigh &lt;dbl&gt;, Value &lt;chr&gt;\n\n\nCode\nnan_counts &lt;- sapply(selected_data, function(x) sum(is.nan(x)))\n\nnan_counts\n\n\n  ParentLocationCode       ParentLocation  SpatialDimValueCode \n                   0                    0                    0 \n            Location               Period         IsLatestYear \n                   0                    0                    0 \n                Dim1        Dim1ValueCode     FactValueNumeric \n                   0                    0                    0 \n FactValueNumericLow FactValueNumericHigh                Value \n                   0                    0                    0 \n\n\nWe conclude that there is no missing value in the data we selected.\n\n\nCode\n# Write data to csv\nwrite.csv(selected_data, file = \"selected_data.csv\")"
  },
  {
    "objectID": "results.html",
    "href": "results.html",
    "title": "3  Results",
    "section": "",
    "text": "Pre-analysis:\n\n\nCode\nlibrary(ggplot2)\nlibrary(dplyr)\n\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\n\nCode\n# Read data\ndf &lt;- read.csv(\"selected_data.csv\")\n\n\n\nChange for last 10 years\n\n\n\nCode\ndata &lt;- df %&gt;%\n  group_by(Period) %&gt;%\n  mutate(YearlyE = mean(FactValueNumeric))\n            \nggplot(data, aes(x = Period, y = YearlyE)) +\n  geom_line() +\n  geom_point(size = 2) +\n  theme_minimal() +\n  labs(title = \"Average PM2.5 Emission by Year\",\n       x = \"Year\",\n       y = \"Avg PM2.5 Worldwide\") +\n   scale_x_continuous(breaks = seq(min(data$Period), max(data$Period), by = 1))\n\n\n\n\n\nWe can clearly see the PM2.5 emission is generally decreasing over years.\n\nChange over time for different continents.\n\n\n\nCode\ndata &lt;- data %&gt;%\n  group_by(ParentLocation, Period) %&gt;%\n  mutate(YearlyContE = mean(FactValueNumeric)) %&gt;%\n  ungroup()\n            \nggplot(data, aes(x = Period, y = YearlyContE, color = ParentLocation)) +\n  geom_line() +\n  geom_point(size = 1) +\n  theme_minimal() +\n  labs(title = \"Average PM2.5 Emission by Year\",\n       x = \"Year\",\n       y = \"Avg PM2.5 per Continent\") +\n   scale_x_continuous(breaks = seq(min(data$Period), max(data$Period), by = 1))\n\n\n\n\n\nIt is clear that Europe has the most significant decrease in the world while Africa and Eastern Mediterranean has a stable PM2.5 over last 10 years.\n\n\nCode\nggplot(data, aes(x = Period, y = YearlyContE)) +\n  geom_boxplot() + \n  stat_summary(fun = mean, geom = \"point\", shape = 20, size = 1, color = \"blue\") +\n  facet_wrap(~ ParentLocation) + \n  theme_minimal() +\n  labs(title = \"PM2.5 Emission\",\n       x = \"Year\",\n       y = \"PM2.5 Range per Continent\")\n\n\nWarning: Continuous x aesthetic\nℹ did you forget `aes(group = ...)`?\n\n\n\n\n\nThe boxplots further shows that Europe has the largest variation across years, which corresponds to our observation for previous plot, while Africa and Eastern Mediterranean has a stable PM2.5 since the length of boxplot is small.\n\nContinent Correlation\n\n\n\nCode\ndata &lt;- data %&gt;%\n  group_by(ParentLocation) %&gt;%\n  mutate(ContE = mean(FactValueNumeric)) %&gt;%\n  ungroup()\n\ndata &lt;- data %&gt;%\n  group_by(Location) %&gt;%\n  mutate(LocE = mean(FactValueNumeric)) %&gt;%\n  ungroup()\n\ntop_countries &lt;- data %&gt;% distinct(Location, LocE) %&gt;% top_n(10, LocE)\nbot_countries &lt;- data %&gt;% distinct(Location, LocE) %&gt;% top_n(-10, LocE)\n\nggplot(top_countries, aes(x = reorder(Location, LocE), y = LocE)) +\n  geom_bar(stat = \"identity\", fill = \"#FFCCCC\") +\n  coord_flip() +\n  labs(title = \"Countries with the Top 10 Highest Avg PM2.5\",\n       x = \"Country\",\n       y = \"Average PM2.5\") +\n  theme_minimal()\n\n\n\n\n\n\n\nCode\nggplot(bot_countries, aes(x = reorder(Location, -LocE), y = LocE)) +\n  geom_bar(stat = \"identity\", fill='lightgreen') +\n  coord_flip() +\n  labs(title = \"Countries with the Top 10 Highest Avg PM2.5\",\n       x = \"Country\",\n       y = \"Average PM2.5\") +\n  theme_minimal()\n\n\n\n\n\n\n\nCode\ndata &lt;- data %&gt;%\n  group_by(Dim1) %&gt;%\n  mutate(LotyE = mean(FactValueNumeric)) %&gt;%\n  ungroup()\n\ndata\n\n\n# A tibble: 9,450 × 18\n       X ParentLocationCode ParentLocation SpatialDimValueCode Location   Period\n   &lt;int&gt; &lt;chr&gt;              &lt;chr&gt;          &lt;chr&gt;               &lt;chr&gt;       &lt;int&gt;\n 1     1 AFR                Africa         KEN                 Kenya        2019\n 2     2 AMR                Americas       TTO                 Trinidad …   2019\n 3     3 EUR                Europe         GBR                 United Ki…   2019\n 4     4 AMR                Americas       GRD                 Grenada      2019\n 5     5 AMR                Americas       BRA                 Brazil       2019\n 6     6 EUR                Europe         DNK                 Denmark      2019\n 7     7 EUR                Europe         RUS                 Russian F…   2019\n 8     8 EUR                Europe         ESP                 Spain        2019\n 9     9 AMR                Americas       GRD                 Grenada      2019\n10    10 AMR                Americas       GRD                 Grenada      2019\n# ℹ 9,440 more rows\n# ℹ 12 more variables: IsLatestYear &lt;lgl&gt;, Dim1 &lt;chr&gt;, Dim1ValueCode &lt;chr&gt;,\n#   FactValueNumeric &lt;dbl&gt;, FactValueNumericLow &lt;dbl&gt;,\n#   FactValueNumericHigh &lt;dbl&gt;, Value &lt;chr&gt;, YearlyE &lt;dbl&gt;, YearlyContE &lt;dbl&gt;,\n#   ContE &lt;dbl&gt;, LocE &lt;dbl&gt;, LotyE &lt;dbl&gt;\n\n\nCode\nggplot(data, aes(x = reorder(Dim1, LotyE), y = LotyE/945)) +\n  geom_bar(stat = \"identity\") +\n  labs(title = \"Avg PM2.5 level for different location type\",\n       x = \"Location Type\",\n       y = \"Average PM2.5\") +\n  theme_minimal()"
  },
  {
    "objectID": "d3graph.html",
    "href": "d3graph.html",
    "title": "4  Interactive display",
    "section": "",
    "text": "Africa  Americas  Europe  South-east Asia  West Pacific  Eastern Mediterranean\n\n\nIn previous session, we used line plots (scatterplot connected with lines) to show the changes of PM 2.5 levels over year for each single region (Africa, Americas, Europe, etc.) and overall. However, we might also be interested in the trends of PM 2.5 levels in a subset of regions. So, we made an interactive PM 2.5 plot that provides the user with a flexible tool to understand the relationship between PM 2.5 and location.\n\n\nAs the static graph, our interactive plot displays the changes of average PM 2.5 levels over time. For this plot, however, we provide a row of check boxes that control what region(s) would be considered. For example, if Africa, Americas and West Pacific are checked, the program behind the scene will compute the average PM 2.5 levels of these regions and plot the dots on the graph.\n\n\nWith the option to choose regions, the user is able to explore various different problems. For example, how is the PM 2.5 level trend for the developed world and how does it compare to the developing world. We check the boxes for Europe and Americas, and we can see that the average PM 2.5 is pretty low in general (15-20) but there is an upward trend of PM 2.5 levels from 2010 to 2019. Checking Africa, South-east Asia, West Pacific and Eastern Mediterranean, we observe that the average PM 2.5 is significantly higher (25-30), but it was basically kept in the same level over the course of ten years. So, the developing world has higher PM 2.5 pollution in general, but the developed countries has experienced an significant increase in PM 2.5 from 2010 to 2019."
  },
  {
    "objectID": "conclusion.html",
    "href": "conclusion.html",
    "title": "5  Conclusion",
    "section": "",
    "text": "Based on our analysis, time and location all significantly correlates with air pollution. We used a variety of methods such as bar chart, time series, histogram, and d3 scatter plot to explore various factors. In detail, we find the solution for the problems that we asked at the beginning:\n\nIs the air quality becoming worse from 2010 to 2019, overall and locally? We found the PM2.5 level decreased for about 7 percent gradually from 2010 to 2019. Locally speaking, Europe has the most significant decrease in the world while Africa and Eastern Mediterranean has a stable PM2.5 over last 10 years. Eastern Mediterranean has the highest PM2.5 level and America & Western Pacific has the lowest PM2.5 level.\nIf people want to avoid air pollution, where should they choose to live? If relocating to another country is not a possible option, choosing rural area generally provides a lower PM2.5 level, which has ~6% lower PM2.5 level than urban area. `\nDoes the air quality generally change significantly over a year? Not necessarily. However, from 2018 to 2019, almost all continent exhibited the highest drop in PM2.5 level over the last 10 years.\nWhich place has the best air quality over the last 10 years? West Hemisphere including America and Western Pacific.\nIf the United Nation has more funding, which places should they commit more to improve the air quality? Urban places of Eastern Mediterranean such as Afghanistan and Tajikistan.\nIn the future, can we predict any trend for air quality based on historical data? Yes, we predict the air quality will be better for all continent, but based on different policy & condition over continent, the air quality change might be different.\n\nIn summary, the air quality is getting better and better, while the condition at some urban places at east hemisphere still need to be paid more attention."
  }
]